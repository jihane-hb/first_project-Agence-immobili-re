<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>ImmoManager - Dashboard</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body onload="checkAuth(); loadDashboard();">
    <div class="container">
        <div class="sidebar-red">
            <h3>Menu Immo</h3>
            <a onclick="show('dashboard')">Tableau de bord</a>
            <a onclick="show('biens')">Biens</a>
            <a onclick="show('agents')">Agents</a>
            <a onclick="show('clients')">Clients</a>
            <a onclick="show('visites')">Visites</a>
            <a onclick="show('contrats')">Contrats</a>
            <a onclick="logout()" style="background:#550000; margin-top:30px;">Logout</a>
        </div>

        <div class="main-content">
            <div id="dashboard" class="page">
                <h2>Statistiques de l'Agence</h2>
                <div class="cards">
                    <div class="card">Biens <span id="cBiens">0</span></div>
                    <div class="card">Agents <span id="cAgents">0</span></div>
                    <div class="card">Visites <span id="cVisites">0</span></div>
                    <div class="card">CA Total <span id="cRevenue">0 MAD</span></div>
                </div>
                <div style="width: 450px; background: white; padding: 20px; border-radius: 15px; margin-top: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    <canvas id="myChart"></canvas>
                </div>
            </div>

            <div id="biens" class="page hidden">
                <h2>Gestion des Biens</h2>
                <div class="form-inline">
                    <input id="bienTitre" placeholder="Titre du bien">
                    <input id="bienPrix" placeholder="Prix (MAD)">
                    <button class="btn-save" onclick="saveBien()">Enregistrer</button>
                </div>
                <table class="styled-table">
                    <thead><tr><th>Titre</th><th>Prix (MAD)</th><th>Actions</th></tr></thead>
                    <tbody id="biensList"></tbody>
                </table>
            </div>

            <div id="agents" class="page hidden">
                <h2>Nos Agents</h2>
                <div class="form-inline">
                    <input id="agentNom" placeholder="Nom de l'agent">
                    <input id="agentTel" placeholder="Téléphone">
                    <button class="btn-save" onclick="saveAgent()">Enregistrer</button>
                </div>
                <table class="styled-table">
                    <thead><tr><th>Nom</th><th>Téléphone</th><th>Actions</th></tr></thead>
                    <tbody id="agentsList"></tbody>
                </table>
            </div>

         <div id="clients" class="page hidden">
  <h2>Gestion des Clients</h2>
  <div class="form-inline">
    <input id="clientName" placeholder="Nom complet">
    <input id="clientPhone" placeholder="Téléphone">
    <input id="clientCin" placeholder="N° CIN"> <button class="btn-save" onclick="saveClient()">Enregistrer</button>
  </div>
  <table class="styled-table">
    <thead>
      <tr>
        <th>Nom</th>
        <th>Téléphone</th>
        <th>CIN</th> <th>Actions</th>
      </tr>
    </thead>
    <tbody id="clientsList"></tbody>
  </table>
</div>
            <div id="visites" class="page hidden">
                <h2>Planning des Visites</h2>
                <div class="form-inline">
                    <input id="visiteBien" placeholder="Nom du Bien">
                    <input id="visiteDate" type="date">
                    <button class="btn-save" onclick="saveVisite()">Enregistrer</button>
                </div>
                <table class="styled-table">
                    <thead><tr><th>Bien</th><th>Date</th><th>Actions</th></tr></thead>
                    <tbody id="visitesList"></tbody>
                </table>
            </div>

            <div id="contrats" class="page hidden">
                <h2>Contrats & Revenus</h2>
                <div class="form-inline">
                    <input id="contratRef" placeholder="Réf Contrat">
                    <input id="contratMontant" placeholder="Montant MAD">
                    <button class="btn-save" onclick="saveContrat()">Enregistrer</button>
                </div>
                <table class="styled-table">
                    <thead><tr><th>Référence</th><th>Montant</th><th>Actions</th></tr></thead>
                    <tbody id="contratsList"></tbody>
                </table>
            </div>
        </div>
    </div>
    <script src="js/java.js"></script>
    <script src="js/app.js"></script>
</body>
</html>